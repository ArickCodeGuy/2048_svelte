(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const pe=!1;var Xt=Array.isArray,mn=Array.prototype.indexOf,Jt=Array.from,ke=Object.defineProperty,ct=Object.getOwnPropertyDescriptor,gn=Object.getOwnPropertyDescriptors,bn=Object.prototype,wn=Array.prototype,xe=Object.getPrototypeOf;const nt=()=>{};function yn(t){return t()}function qt(t){for(var e=0;e<t.length;e++)t[e]()}const M=2,Oe=4,pt=8,Zt=16,q=32,ht=64,Tt=128,R=256,At=512,D=1024,B=2048,it=4096,L=8192,ut=16384,En=32768,Qt=65536,Tn=1<<19,Ce=1<<20,rt=Symbol("$state");function Pe(t){return t===this.v}function Me(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Ie(t){return!Me(t,this.v)}function An(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Dn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sn(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Nn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function On(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Cn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let mt=!1,Pn=!1;function Mn(){mt=!0}const In=1,Ln=2,$n=16,Rn=1,Fn=2,k=Symbol();function jn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let b=null;function he(t){b=t}function ot(t,e=!1,n){b={p:b,c:null,e:null,m:!1,s:t,x:null,l:null},mt&&!e&&(b.l={s:null,u:null,r1:[],r2:C(!1)})}function st(t){const e=b;if(e!==null){const o=e.e;if(o!==null){var n=m,l=g;e.e=null;try{for(var r=0;r<o.length;r++){var i=o[r];W(i.effect),Y(i.reaction),re(i.fn)}}finally{W(n),Y(l)}}b=e.p,e.m=!0}return{}}function C(t,e){var n={f:0,v:t,reactions:null,equals:Pe,rv:0,wv:0};return n}function Un(t){return Le(C(t))}function te(t,e=!1){var l;const n=C(t);return e||(n.equals=Ie),mt&&b!==null&&b.l!==null&&((l=b.l).s??(l.s=[])).push(n),n}function qn(t,e=!1){return Le(te(t,e))}function Le(t){return g!==null&&!U&&g.f&M&&($===null?tr([t]):$.push(t)),t}function P(t,e){return g!==null&&!U&&Pt()&&g.f&(M|Zt)&&($===null||!$.includes(t))&&Cn(),$e(t,e)}function $e(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=en(),Re(t,B),Pt()&&m!==null&&m.f&D&&!(m.f&(q|ht))&&(j===null?er([t]):j.push(t))),e}function Re(t,e){var n=t.reactions;if(n!==null)for(var l=Pt(),r=n.length,i=0;i<r;i++){var o=n[i],a=o.f;a&B||!l&&o===m||(I(o,e),a&(D|R)&&(a&M?Re(o,it):It(o)))}}let Bn=!1;function et(t,e=null,n){if(typeof t!="object"||t===null||rt in t)return t;const l=xe(t);if(l!==bn&&l!==wn)return t;var r=new Map,i=Xt(t),o=C(0);i&&r.set("length",C(t.length));var a;return new Proxy(t,{defineProperty(s,u,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&kn();var c=r.get(u);return c===void 0?(c=C(v.value),r.set(u,c)):P(c,et(v.value,a)),!0},deleteProperty(s,u){var v=r.get(u);if(v===void 0)u in s&&r.set(u,C(k));else{if(i&&typeof u=="string"){var c=r.get("length"),f=Number(u);Number.isInteger(f)&&f<c.v&&P(c,f)}P(v,k),me(o)}return!0},get(s,u,v){var _;if(u===rt)return t;var c=r.get(u),f=u in s;if(c===void 0&&(!f||(_=ct(s,u))!=null&&_.writable)&&(c=C(et(f?s[u]:k,a)),r.set(u,c)),c!==void 0){var d=T(c);return d===k?void 0:d}return Reflect.get(s,u,v)},getOwnPropertyDescriptor(s,u){var v=Reflect.getOwnPropertyDescriptor(s,u);if(v&&"value"in v){var c=r.get(u);c&&(v.value=T(c))}else if(v===void 0){var f=r.get(u),d=f==null?void 0:f.v;if(f!==void 0&&d!==k)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return v},has(s,u){var d;if(u===rt)return!0;var v=r.get(u),c=v!==void 0&&v.v!==k||Reflect.has(s,u);if(v!==void 0||m!==null&&(!c||(d=ct(s,u))!=null&&d.writable)){v===void 0&&(v=C(c?et(s[u],a):k),r.set(u,v));var f=T(v);if(f===k)return!1}return c},set(s,u,v,c){var w;var f=r.get(u),d=u in s;if(i&&u==="length")for(var _=v;_<f.v;_+=1){var h=r.get(_+"");h!==void 0?P(h,k):_ in s&&(h=C(k),r.set(_+"",h))}f===void 0?(!d||(w=ct(s,u))!=null&&w.writable)&&(f=C(void 0),P(f,et(v,a)),r.set(u,f)):(d=f.v!==k,P(f,et(v,a)));var y=Reflect.getOwnPropertyDescriptor(s,u);if(y!=null&&y.set&&y.set.call(c,v),!d){if(i&&typeof u=="string"){var E=r.get("length"),p=Number(u);Number.isInteger(p)&&p>=E.v&&P(E,p+1)}me(o)}return!0},ownKeys(s){T(o);var u=Reflect.ownKeys(s).filter(f=>{var d=r.get(f);return d===void 0||d.v!==k});for(var[v,c]of r)c.v!==k&&!(v in s)&&u.push(v);return u},setPrototypeOf(){xn()}})}function me(t,e=1){P(t,t.v+e)}var ge,Fe,je;function Gn(){if(ge===void 0){ge=window;var t=Element.prototype,e=Node.prototype;Fe=ct(e,"firstChild").get,je=ct(e,"nextSibling").get,t.__click=void 0,t.__className="",t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Ue(t=""){return document.createTextNode(t)}function Dt(t){return Fe.call(t)}function Ot(t){return je.call(t)}function A(t,e){return Dt(t)}function Vn(t,e){{var n=Dt(t);return n instanceof Comment&&n.data===""?Ot(n):n}}function V(t,e=1,n=!1){let l=t;for(;e--;)l=Ot(l);return l}function Hn(t){t.textContent=""}function ee(t){var e=M|B,n=g!==null&&g.f&M?g:null;return m===null||n!==null&&n.f&R?e|=R:m.f|=Ce,{ctx:b,deps:null,effects:null,equals:Pe,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:n??m}}function Yn(t){const e=ee(t);return e.equals=Ie,e}function ne(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)H(e[n])}}function Wn(t){for(var e=t.parent;e!==null;){if(!(e.f&M))return e;e=e.parent}return null}function qe(t){var e,n=m;W(Wn(t));try{ne(t),e=rn(t)}finally{W(n)}return e}function Be(t){var e=qe(t),n=(z||t.f&R)&&t.deps!==null?it:D;I(t,n),t.equals(e)||(t.v=e,t.wv=en())}function zn(t){ne(t),_t(t,0),I(t,ut),t.v=t.deps=t.ctx=t.reactions=null}function Ge(t){m===null&&g===null&&Sn(),g!==null&&g.f&R&&m===null&&Dn(),oe&&An()}function Kn(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function at(t,e,n,l=!0){var r=(t&ht)!==0,i=m,o={ctx:b,deps:null,nodes_start:null,nodes_end:null,f:t|B,first:null,fn:e,last:null,next:null,parent:r?null:i,prev:null,teardown:null,transitions:null,wv:0};if(n){var a=lt;try{be(!0),se(o),o.f|=En}catch(v){throw H(o),v}finally{be(a)}}else e!==null&&It(o);var s=n&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Ce|Tt))===0;if(!s&&!r&&l&&(i!==null&&Kn(o,i),g!==null&&g.f&M)){var u=g;(u.effects??(u.effects=[])).push(o)}return o}function Ve(t){const e=at(pt,null,!1);return I(e,D),e.teardown=t,e}function St(t){Ge();var e=m!==null&&(m.f&q)!==0&&b!==null&&!b.m;if(e){var n=b;(n.e??(n.e=[])).push({fn:t,effect:m,reaction:g})}else{var l=re(t);return l}}function Xn(t){return Ge(),He(t)}function Jn(t){const e=at(ht,t,!0);return(n={})=>new Promise(l=>{n.outro?ie(e,()=>{H(e),l(void 0)}):(H(e),l(void 0))})}function re(t){return at(Oe,t,!1)}function He(t){return at(pt,t,!0)}function Ye(t,e=[],n=ee){const l=e.map(n);return le(()=>t(...l.map(T)))}function le(t,e=0){return at(pt|Zt|e,t,!0)}function Ct(t,e=!0){return at(pt|q,t,!0,e)}function We(t){var e=t.teardown;if(e!==null){const n=oe,l=g;we(!0),Y(null);try{e.call(null)}finally{we(n),Y(l)}}}function ze(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){var l=n.next;H(n,e),n=l}}function Zn(t){for(var e=t.first;e!==null;){var n=e.next;e.f&q||H(e),e=n}}function H(t,e=!0){var n=!1;if((e||t.f&Tn)&&t.nodes_start!==null){for(var l=t.nodes_start,r=t.nodes_end;l!==null;){var i=l===r?null:Ot(l);l.remove(),l=i}n=!0}ze(t,e&&!n),_t(t,0),I(t,ut);var o=t.transitions;if(o!==null)for(const s of o)s.stop();We(t);var a=t.parent;a!==null&&a.first!==null&&Ke(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Ke(t){var e=t.parent,n=t.prev,l=t.next;n!==null&&(n.next=l),l!==null&&(l.prev=n),e!==null&&(e.first===t&&(e.first=l),e.last===t&&(e.last=n))}function ie(t,e){var n=[];ue(t,n,!0),Xe(n,()=>{H(t),e&&e()})}function Xe(t,e){var n=t.length;if(n>0){var l=()=>--n||e();for(var r of t)r.out(l)}else e()}function ue(t,e,n){if(!(t.f&L)){if(t.f^=L,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var l=t.first;l!==null;){var r=l.next,i=(l.f&Qt)!==0||(l.f&q)!==0;ue(l,e,i?n:!1),l=r}}}function Je(t){Ze(t,!0)}function Ze(t,e){if(t.f&L){t.f^=L,t.f&D||(t.f^=D),gt(t)&&(I(t,B),It(t));for(var n=t.first;n!==null;){var l=n.next,r=(n.f&Qt)!==0||(n.f&q)!==0;Ze(n,r?e:!1),n=l}if(t.transitions!==null)for(const i of t.transitions)(i.is_global||e)&&i.in()}}let Bt=!1,Gt=[];function Qn(){Bt=!1;const t=Gt.slice();Gt=[],qt(t)}function Qe(t){Bt||(Bt=!0,queueMicrotask(Qn)),Gt.push(t)}let wt=!1,Nt=!1,kt=null,lt=!1,oe=!1;function be(t){lt=t}function we(t){oe=t}let Vt=[],vt=0;let g=null,U=!1;function Y(t){g=t}let m=null;function W(t){m=t}let $=null;function tr(t){$=t}let N=null,O=0,j=null;function er(t){j=t}let tn=1,xt=0,z=!1;function en(){return++tn}function Pt(){return!mt||b!==null&&b.l===null}function gt(t){var u;var e=t.f;if(e&B)return!0;if(e&it){var n=t.deps,l=(e&R)!==0;if(n!==null){var r,i,o=(e&At)!==0,a=l&&m!==null&&!z,s=n.length;if(o||a){for(r=0;r<s;r++)i=n[r],(o||!((u=i==null?void 0:i.reactions)!=null&&u.includes(t)))&&(i.reactions??(i.reactions=[])).push(t);o&&(t.f^=At)}for(r=0;r<s;r++)if(i=n[r],gt(i)&&Be(i),i.wv>t.wv)return!0}(!l||m!==null&&!z)&&I(t,D)}return!1}function nr(t,e){for(var n=e;n!==null;){if(n.f&Tt)try{n.fn(t);return}catch{n.f^=Tt}n=n.parent}throw wt=!1,t}function rr(t){return(t.f&ut)===0&&(t.parent===null||(t.parent.f&Tt)===0)}function Mt(t,e,n,l){if(wt){if(n===null&&(wt=!1),rr(e))throw t;return}n!==null&&(wt=!0);{nr(t,e);return}}function nn(t,e,n=0){var l=t.reactions;if(l!==null)for(var r=0;r<l.length;r++){var i=l[r];i.f&M?nn(i,e,n+1):e===i&&(n===0?I(i,B):i.f&D&&I(i,it),It(i))}}function rn(t){var d;var e=N,n=O,l=j,r=g,i=z,o=$,a=b,s=U,u=t.f;N=null,O=0,j=null,g=u&(q|ht)?null:t,z=(u&R)!==0&&(!lt||(r===null||s)&&t.parent!==null),$=null,he(t.ctx),U=!1,xt++;try{var v=(0,t.fn)(),c=t.deps;if(N!==null){var f;if(_t(t,O),c!==null&&O>0)for(c.length=O+N.length,f=0;f<N.length;f++)c[O+f]=N[f];else t.deps=c=N;if(!z)for(f=O;f<c.length;f++)((d=c[f]).reactions??(d.reactions=[])).push(t)}else c!==null&&O<c.length&&(_t(t,O),c.length=O);if(Pt()&&j!==null&&!(t.f&(M|it|B)))for(f=0;f<j.length;f++)nn(j[f],t);return r!==null&&xt++,v}finally{N=e,O=n,j=l,g=r,z=i,$=o,he(a),U=s}}function lr(t,e){let n=e.reactions;if(n!==null){var l=mn.call(n,t);if(l!==-1){var r=n.length-1;r===0?n=e.reactions=null:(n[l]=n[r],n.pop())}}n===null&&e.f&M&&(N===null||!N.includes(e))&&(I(e,it),e.f&(R|At)||(e.f^=At),ne(e),_t(e,0))}function _t(t,e){var n=t.deps;if(n!==null)for(var l=e;l<n.length;l++)lr(t,n[l])}function se(t){var e=t.f;if(!(e&ut)){I(t,D);var n=m,l=b;m=t;try{e&Zt?Zn(t):ze(t),We(t);var r=rn(t);t.teardown=typeof r=="function"?r:null,t.wv=tn;var i=t.deps,o;pe&&Pn&&t.f&B}catch(a){Mt(a,t,n,l||t.ctx)}finally{m=n}}}function ir(){if(vt>1e3){vt=0;try{Nn()}catch(t){if(kt!==null)Mt(t,kt,null);else throw t}}vt++}function ur(t){var e=t.length;if(e!==0){ir();var n=lt;lt=!0;try{for(var l=0;l<e;l++){var r=t[l];r.f&D||(r.f^=D);var i=[];ln(r,i),or(i)}}finally{lt=n}}}function or(t){var e=t.length;if(e!==0)for(var n=0;n<e;n++){var l=t[n];if(!(l.f&(ut|L)))try{gt(l)&&(se(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null?Ke(l):l.fn=null))}catch(r){Mt(r,l,null,l.ctx)}}}function sr(){if(Nt=!1,vt>1001)return;const t=Vt;Vt=[],ur(t),Nt||(vt=0,kt=null)}function It(t){Nt||(Nt=!0,queueMicrotask(sr)),kt=t;for(var e=t;e.parent!==null;){e=e.parent;var n=e.f;if(n&(ht|q)){if(!(n&D))return;e.f^=D}}Vt.push(e)}function ln(t,e){var n=t.first,l=[];t:for(;n!==null;){var r=n.f,i=(r&q)!==0,o=i&&(r&D)!==0,a=n.next;if(!o&&!(r&L))if(r&pt){if(i)n.f^=D;else try{gt(n)&&se(n)}catch(c){Mt(c,n,null,n.ctx)}var s=n.first;if(s!==null){n=s;continue}}else r&Oe&&l.push(n);if(a===null){let c=n.parent;for(;c!==null;){if(t===c)break t;var u=c.next;if(u!==null){n=u;continue t}c=c.parent}}n=a}for(var v=0;v<l.length;v++)s=l[v],e.push(s),ln(s,e)}function T(t){var e=t.f,n=(e&M)!==0;if(n&&e&ut){var l=qe(t);return zn(t),l}if(g!==null&&!U){$!==null&&$.includes(t)&&On();var r=g.deps;t.rv<xt&&(t.rv=xt,N===null&&r!==null&&r[O]===t?O++:N===null?N=[t]:N.push(t))}else if(n&&t.deps===null&&t.effects===null){var i=t,o=i.parent;o!==null&&(o.f&R||(i.f^=R))}return n&&(i=t,gt(i)&&Be(i)),t.v}function Lt(t){var e=U;try{return U=!0,t()}finally{U=e}}const ar=-7169;function I(t,e){t.f=t.f&ar|e}function fr(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(rt in t)Ht(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];typeof n=="object"&&n&&rt in n&&Ht(n)}}}function Ht(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let l in t)try{Ht(t[l],e)}catch{}const n=xe(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const l=gn(n);for(let r in l){const i=l[r].get;if(i)try{i.call(t)}catch{}}}}}const cr=["touchstart","touchmove"];function vr(t){return cr.includes(t)}function dr(t){var e=g,n=m;Y(null),W(null);try{return t()}finally{Y(e),W(n)}}const un=new Set,Yt=new Set;function _r(t,e,n,l={}){function r(i){if(l.capture||ft.call(e,i),!i.cancelBubble)return dr(()=>n==null?void 0:n.call(this,i))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Qe(()=>{e.addEventListener(t,r,l)}):e.addEventListener(t,r,l),r}function Ut(t,e,n,l,r){var i={capture:l,passive:r},o=_r(t,e,n,i);(e===document.body||e===window||e===document)&&Ve(()=>{e.removeEventListener(t,o,i)})}function ae(t){for(var e=0;e<t.length;e++)un.add(t[e]);for(var n of Yt)n(t)}function ft(t){var p;var e=this,n=e.ownerDocument,l=t.type,r=((p=t.composedPath)==null?void 0:p.call(t))||[],i=r[0]||t.target,o=0,a=t.__root;if(a){var s=r.indexOf(a);if(s!==-1&&(e===document||e===window)){t.__root=e;return}var u=r.indexOf(e);if(u===-1)return;s<=u&&(o=s)}if(i=r[o]||t.target,i!==e){ke(t,"currentTarget",{configurable:!0,get(){return i||n}});var v=g,c=m;Y(null),W(null);try{for(var f,d=[];i!==null;){var _=i.assignedSlot||i.parentNode||i.host||null;try{var h=i["__"+l];if(h!==void 0&&!i.disabled)if(Xt(h)){var[y,...E]=h;y.apply(i,[t,...E])}else h.call(i,t)}catch(w){f?d.push(w):f=w}if(t.cancelBubble||_===e||_===null)break;i=_}if(f){for(let w of d)queueMicrotask(()=>{throw w});throw f}}finally{t.__root=e,delete t.currentTarget,Y(v),W(c)}}}function pr(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function ye(t,e){var n=m;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function J(t,e){var n=(e&Rn)!==0,l=(e&Fn)!==0,r,i=!t.startsWith("<!>");return()=>{r===void 0&&(r=pr(i?t:"<!>"+t),n||(r=Dt(r)));var o=l?document.importNode(r,!0):r.cloneNode(!0);if(n){var a=Dt(o),s=o.lastChild;ye(a,s)}else ye(o,o);return o}}function X(t,e){t!==null&&t.before(e)}function on(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n==null?"":n+"")}function hr(t,e){return mr(t,e)}const Q=new Map;function mr(t,{target:e,anchor:n,props:l={},events:r,context:i,intro:o=!0}){Gn();var a=new Set,s=c=>{for(var f=0;f<c.length;f++){var d=c[f];if(!a.has(d)){a.add(d);var _=vr(d);e.addEventListener(d,ft,{passive:_});var h=Q.get(d);h===void 0?(document.addEventListener(d,ft,{passive:_}),Q.set(d,1)):Q.set(d,h+1)}}};s(Jt(un)),Yt.add(s);var u=void 0,v=Jn(()=>{var c=n??e.appendChild(Ue());return Ct(()=>{if(i){ot({});var f=b;f.c=i}r&&(l.$$events=r),u=t(c,l)||{},i&&st()}),()=>{var _;for(var f of a){e.removeEventListener(f,ft);var d=Q.get(f);--d===0?(document.removeEventListener(f,ft),Q.delete(f)):Q.set(f,d)}Yt.delete(s),c!==n&&((_=c.parentNode)==null||_.removeChild(c))}});return gr.set(u,v),u}let gr=new WeakMap;function br(t,e){return e}function wr(t,e,n,l){for(var r=[],i=e.length,o=0;o<i;o++)ue(e[o].e,r,!0);var a=i>0&&r.length===0&&n!==null;if(a){var s=n.parentNode;Hn(s),s.append(n),l.clear(),G(t,e[0].prev,e[i-1].next)}Xe(r,()=>{for(var u=0;u<i;u++){var v=e[u];a||(l.delete(v.k),G(t,v.prev,v.next)),H(v.e,!a)}})}function yr(t,e,n,l,r,i=null){var o=t,a={flags:e,items:new Map,first:null};{var s=t;o=s.appendChild(Ue())}var u=null,v=!1,c=Yn(()=>{var f=n();return Xt(f)?f:f==null?[]:Jt(f)});le(()=>{var f=T(c),d=f.length;if(!(v&&d===0)){v=d===0;{var _=g;Er(f,a,o,r,e,(_.f&L)!==0,l,n)}i!==null&&(d===0?u?Je(u):u=Ct(()=>i(o)):u!==null&&ie(u,()=>{u=null})),T(c)}})}function Er(t,e,n,l,r,i,o,a){var s=t.length,u=e.items,v=e.first,c=v,f,d=null,_=[],h=[],y,E,p,w;for(w=0;w<s;w+=1){if(y=t[w],E=o(y,w),p=u.get(E),p===void 0){var Rt=c?c.e.nodes_start:n;d=Ar(Rt,e,d,d===null?e.first:d.next,y,E,w,l,r,a),u.set(E,d),_=[],h=[],c=d.next;continue}if(Tr(p,y,w),p.e.f&L&&Je(p.e),p!==c){if(f!==void 0&&f.has(p)){if(_.length<h.length){var Z=h[0],S;d=Z.prev;var _e=_[0],Ft=_[_.length-1];for(S=0;S<_.length;S+=1)Ee(_[S],Z,n);for(S=0;S<h.length;S+=1)f.delete(h[S]);G(e,_e.prev,Ft.next),G(e,d,_e),G(e,Ft,Z),c=Z,d=Ft,w-=1,_=[],h=[]}else f.delete(p),Ee(p,c,n),G(e,p.prev,p.next),G(e,p,d===null?e.first:d.next),G(e,d,p),d=p;continue}for(_=[],h=[];c!==null&&c.k!==E;)(i||!(c.e.f&L))&&(f??(f=new Set)).add(c),h.push(c),c=c.next;if(c===null)continue;p=c}_.push(p),d=p,c=p.next}if(c!==null||f!==void 0){for(var jt=f===void 0?[]:Jt(f);c!==null;)(i||!(c.e.f&L))&&jt.push(c),c=c.next;var pn=jt.length;if(pn>0){var hn=s===0?n:null;wr(e,jt,hn,u)}}m.first=e.first&&e.first.e,m.last=d&&d.e}function Tr(t,e,n,l){$e(t.v,e),t.i=n}function Ar(t,e,n,l,r,i,o,a,s,u){var v=(s&In)!==0,c=(s&$n)===0,f=v?c?te(r):C(r):r,d=s&Ln?C(o):o,_={i:d,v:f,k:i,a:null,e:null,prev:n,next:l};try{return _.e=Ct(()=>a(t,f,d,u),Bn),_.e.prev=n&&n.e,_.e.next=l&&l.e,n===null?e.first=_:(n.next=_,n.e.next=_.e),l!==null&&(l.prev=_,l.e.prev=_.e),_}finally{}}function Ee(t,e,n){for(var l=t.next?t.next.e.nodes_start:n,r=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==l;){var o=Ot(i);r.before(i),i=o}}function G(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Dr(t,e,n){var l=t,r,i;le(()=>{r!==(r=e())&&(i&&(ie(i),i=null),r&&(i=Ct(()=>n(l,r))))},Qt)}function Te(t,e){return t===e||(t==null?void 0:t[rt])===e}function Sr(t={},e,n,l){return re(()=>{var r,i;return He(()=>{r=i,i=[],Lt(()=>{t!==n(...i)&&(e(t,...i),r&&Te(n(...r),t)&&e(null,...r))})}),()=>{Qe(()=>{i&&Te(n(...i),t)&&e(null,...i)})}}),t}function Nr(t){return function(...e){var n=e[0];return n.stopPropagation(),t==null?void 0:t.apply(this,e)}}function $t(t=!1){const e=b,n=e.l.u;if(!n)return;let l=()=>fr(e.s);if(t){let r=0,i={};const o=ee(()=>{let a=!1;const s=e.s;for(const u in s)s[u]!==i[u]&&(i[u]=s[u],a=!0);return a&&r++,r});l=()=>T(o)}n.b.length&&Xn(()=>{Ae(e,l),qt(n.b)}),St(()=>{const r=Lt(()=>n.m.map(yn));return()=>{for(const i of r)typeof i=="function"&&i()}}),n.a.length&&St(()=>{Ae(e,l),qt(n.a)})}function Ae(t,e){if(t.l.s)for(const n of t.l.s)T(n);e()}function sn(t,e,n){if(t==null)return e(void 0),nt;const l=Lt(()=>t.subscribe(e,n));return l.unsubscribe?()=>l.unsubscribe():l}const tt=[];function an(t,e=nt){let n=null;const l=new Set;function r(a){if(Me(t,a)&&(t=a,n)){const s=!tt.length;for(const u of l)u[1](),tt.push(u,t);if(s){for(let u=0;u<tt.length;u+=2)tt[u][0](tt[u+1]);tt.length=0}}}function i(a){r(a(t))}function o(a,s=nt){const u=[a,s];return l.add(u),l.size===1&&(n=e(r,i)||nt),a(t),()=>{l.delete(u),l.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:o}}function kr(t){let e;return sn(t,n=>e=n)(),e}let Wt=Symbol();function fe(t,e,n){const l=n[e]??(n[e]={store:null,source:te(void 0),unsubscribe:nt});if(l.store!==t&&!(Wt in n))if(l.unsubscribe(),l.store=t??null,t==null)l.source.v=void 0,l.unsubscribe=nt;else{var r=!0;l.unsubscribe=sn(t,i=>{r?l.source.v=i:P(l.source,i)}),r=!1}return t&&Wt in n?kr(t):T(l.source)}function ce(){const t={};function e(){Ve(()=>{for(var n in t)t[n].unsubscribe();ke(t,Wt,{enumerable:!1,value:!0})})}return[t,e]}function xr(t){b===null&&jn(),mt&&b.l!==null?Or(b).m.push(t):St(()=>{const e=Lt(t);if(typeof e=="function")return e})}function Or(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const Cr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Cr);Mn();const Pr={2:"#5FA5D9",4:"#4495D4",8:"#2F6895",16:"#F5BD70",32:"#F2A032",64:"#CD8829",128:"#E37051",256:"#f00",512:"#f00",1024:"#f00",2048:"#f00"},ve="2048_local";function Mr(){const t=localStorage.getItem(ve);return t?JSON.parse(t):null}function de(t){return new Array(t).fill(0).map(()=>new Array(t).fill(0).map(e=>({value:0})))}const De=Mr(),F=an();function dt(){localStorage.removeItem(ve),F.update(()=>{const t={grid:de(4),isTransitionActive:!1,size:4,score:0,transitionDuration:250};return t.grid[1][1].value=2,t})}De?F.update(()=>({...De,isTransitionActive:!1})):dt();F.subscribe(t=>{localStorage.setItem(ve,JSON.stringify(t))});const Ir=2;let x,fn=0;F.subscribe(t=>{x=t,fn=Number(new Date)});function Lr(t){const e=t.getContext("2d");function n(){e.clearRect(0,0,e.canvas.width,e.canvas.height)}function l([a,s]){const u=t.getBoundingClientRect().width,v=x.size,c=Math.floor(u/v);return[c*a,s*c]}function r([a,s],[u,v]=[0,0],c){const f=Math.floor(t.getBoundingClientRect().width/x.size-Ir*x.size),d=Math.max(1,Number(new Date)-fn),_=Math.min(1,d/x.transitionDuration),h=a+u*_,y=s+v*_,[E,p]=l([h,y]);c?e.fillStyle=Pr[c]??"#f00":e.fillStyle="#000",e.fillRect(E,p,f,f),c&&(e.textAlign="center",e.fillStyle="#fff",e.font=`${f/3}px Arial`,e.fillText(c+"",E+f/2,p+f/1.6))}function i(){if(x){for(let a=0;a<x.grid.length;a++)for(let s=0;s<x.grid[0].length;s++)r([s,a]);for(let a=0;a<x.grid.length;a++)for(let s=0;s<x.grid[0].length;s++)x.grid[a][s].value&&r([s,a],x.grid[a][s].transform,x.grid[a][s].value)}}function o(){const a=t.getBoundingClientRect().width;t.width=a,t.height=a,n(),i()}setInterval(()=>{o()},1e3/60)}var $r=J('<div class="canvas-container svelte-3wti76"><canvas class="canvas svelte-3wti76"></canvas></div>');function Rr(t,e){ot(e,!1);let n=qn();xr(()=>{Lr(T(n))}),$t();var l=$r(),r=A(l);Sr(r,i=>P(n,i),()=>T(n)),X(t,l),st()}var Fr=J('<h2 class="h2">Controls</h2> <div class="controls-container svelte-m1fj65"><div class="controls svelte-m1fj65"><div class="svelte-m1fj65"><button class="btn svelte-m1fj65">W</button></div> <div class="svelte-m1fj65"><button class="btn svelte-m1fj65">A</button> <button class="btn svelte-m1fj65">.</button> <button class="btn svelte-m1fj65">D</button></div> <div class="svelte-m1fj65"><button class="btn svelte-m1fj65">S</button></div></div> <div class="controls svelte-m1fj65"><div class="svelte-m1fj65"><button class="btn svelte-m1fj65">↑</button></div> <div class="svelte-m1fj65"><button class="btn svelte-m1fj65">←</button> <button class="btn svelte-m1fj65">.</button> <button class="btn svelte-m1fj65">→</button></div> <div class="svelte-m1fj65"><button class="btn svelte-m1fj65">↓</button></div></div></div>',1);function cn(t){var e=Fr();X(t,e)}function jr(){let t=0;return()=>++t}const Ur=jr(),bt=an([]);function vn(t){const e=Ur();return bt.update(n=>(n.push({id:e,...t}),n)),e}function Se(t){bt.update(e=>e.filter(({id:n})=>n!==t))}document.addEventListener("keydown",t=>{t.key==="Escape"&&bt.update(()=>[])});function qr(){dt(),bt.update(()=>[])}var Br=J('<div class="GameOver svelte-vz7nio"><h2>Game Over</h2> <p> </p> <p><button class="btn">restart</button></p></div>');function Gr(t,e){ot(e,!1);const[n,l]=ce(),r=()=>fe(F,"$game",n);$t();var i=Br(),o=V(A(i),2),a=A(o),s=V(o,2),u=A(s);u.__click=[qr],Ye(()=>on(a,`Score: ${r().score??""}`)),X(t,i),st(),l()}ae(["click"]);function Vr(){vn({component:cn})}var Hr=J('<header class="header svelte-1b99nwe"><div class="container"><div class="burger svelte-1b99nwe"><div class="svelte-1b99nwe"></div> <div class="svelte-1b99nwe"></div> <div class="svelte-1b99nwe"></div></div></div></header>');function Yr(t,e){ot(e,!1),$t();var n=Hr(),l=A(n),r=A(l);r.__click=[Vr],X(t,n),st()}ae(["click"]);function Ne(t){const e=t.length,n=Math.floor(Math.random()*e);return t[n]}function Wr(t){const e=[];if(t.forEach((i,o)=>{i.forEach((a,s)=>{a.value||e.push([s,o])})}),!e.length)throw new Error("No empty cells");const[n,l]=Ne(e),r=Ne([2,4]);t[l][n].value=r}const zr=(t,e)=>{for(let n=0;n<t.length;n++)for(let l=0;l<t.length;l++)if(t[n][l].value!==e[n][l].value)return!1;return!0};function Kr(t){const e=t.length,n=de(e);for(let l=0;l<e;l++)for(let r=0;r<e;r++)t[l][r].value&&(n[l][r].value=t[l][r].value);return n}function dn([t,e]){return`${t},${e}`}function Xr(t){switch(t){case"UP":return[0,-1];case"DOWN":return[0,1];case"LEFT":return[-1,0];case"RIGHT":return[1,0]}}function Jr(t,e,n){const l=t.length,r=t[0].length;return e>=0&&e<r&&n>=0&&n<l}function Zr(t,e,n,[l,r],i){var u,v;let o=e,a=n,s=t[n][e].value;for(t[n][e].value=0;Jr(t,o+l,a+r)&&!t[a+r][o+l].value;)o+=l,a+=r;return((v=(u=t[a+r])==null?void 0:u[o+l])==null?void 0:v.value)===s&&!i.has(dn([o+l,a+r]))&&(a+=r,o+=l,s*=2),t[a][o].value=s,[o-e,a-n]}function Qr(t,e){const n=t.length,l=t[0].length,r=l*n;let i=0;const o=Kr(t),a=new Set,s=Xr(e),u=de(n);let v,c;for(e==="UP"||e==="LEFT"?(v=0,c=1):(v=r-1,c=-1);v>=0&&v<r;){const f=v%n,d=(v-f)/n;if(v+=c,!o[d][f].value)continue;u[d][f].value=o[d][f].value;const _=Zr(u,f,d,s,a);(_[0]||_[1])&&(o[d][f].value!==u[d+_[1]][f+_[0]].value&&(a.add(dn([f+_[0],d+_[1]])),i+=o[d][f].value),o[d][f].transform=_)}return[o,u,i]}let K;F.subscribe(t=>K=t);function tl(t,e){K.isTransitionActive=!0,F.update(n=>({...n,grid:t})),setTimeout(()=>{Wr(e),F.update(n=>({...n,grid:e})),K.isTransitionActive=!1},K.transitionDuration)}function el(t){switch(t.toLocaleUpperCase()){case"W":return"UP";case"S":return"DOWN";case"D":return"RIGHT";case"A":return"LEFT"}}function _n(t){const[e,n,l]=Qr(K.grid,t);zr(e,n)||(K.score+=l,tl(e,n))}function nl(t){if(K.isTransitionActive)return;const e=el(t.key);e&&_n(e)}let zt=null,Kt=null,yt=0,Et=0;function rl(t){if(Math.abs(Math.abs(yt)-Math.abs(Et))<40)return;let e;Math.abs(yt)>Math.abs(Et)?yt>0?e="RIGHT":e="LEFT":Et>0?e="DOWN":e="UP",_n(e)}function ll(t){if(!zt||!Kt)return;const{clientX:e,clientY:n}=t.touches[0];yt=e-zt,Et=n-Kt}function il(t){zt=t.touches[0].clientX,Kt=t.touches[0].clientY,document.addEventListener("touchmove",ll),document.addEventListener("touchend",rl,{once:!0})}function ul(){document.addEventListener("keydown",nl),document.addEventListener("touchstart",il)}function ol(){ul()}function sl(t,[e,n]){var l;for(let r=0;r<t.length;r++)for(let i=0;i<t[0].length;i++){const o=t[r][i].value;if(!(!t[r][i].value||!((l=t[r+n])!=null&&l[i+e]))&&(t[r+n][i+e].value===0||o===t[r+n][i+e].value))return!0}return!1}function al(t){const e=[[0,1],[0,-1],[1,0],[-1,0]];for(const n of e)if(sl(t,n))return!1;return!0}const fl={transitionDuration:500,tickrate:60,onAnimate:()=>0,debug:!1},cl=(t,e={})=>{const n={...fl,...e},l=1e3/n.tickrate;let r=t,i=r,o=r,a=null,s=null;function u(){return JSON.stringify({options:n,animationDelay:l,state:r,prevState:i,animationValue:o,animationTimeout:a,animationStart:s})}n.debug&&console.log("useDelayedNumberUpdate: init",u());function v(){if(n.debug&&console.log("useDelayedNumberUpdate: updateAnimationValue",u()),!s){o=r;return}const _=Number(new Date),h=s+n.transitionDuration,y=Math.min(1,(_-s)/(h-s)),E=r-i;o=Math.round(i+E*y)}function c(){n.debug&&console.log("useDelayedNumberUpdate: resetAnimation",u()),o=r,a&&(clearTimeout(a),a=null),s=null}function f(){n.debug&&console.log("useDelayedNumberUpdate: animate",u()),a&&(clearTimeout(a),a=null),v(),n.onAnimate(o);const _=Number(new Date);if(!s||_>s+n.transitionDuration){c();return}a=setTimeout(()=>{f()},l)}function d(_){n.debug&&console.log("useDelayedNumberUpdate: updateState",u()),i=o,typeof _=="function"?r=_(r):r=_,s=Number(new Date),f()}return[d]};var vl=J('<div class="Popup svelte-1hnmutg"><div class="Popup-content svelte-1hnmutg"><!> <button class="Popup-close svelte-1hnmutg">X</button></div></div>'),dl=J('<div class="Popups"></div>');function _l(t,e){ot(e,!1);const[n,l]=ce(),r=()=>fe(bt,"$popups",n);$t();var i=dl();yr(i,5,r,br,(o,a)=>{var s=vl(),u=A(s),v=A(u);Dr(v,()=>T(a).component,(f,d)=>{d(f,{get props(){return T(a).props}})});var c=V(v,2);Ut("click",c,()=>Se(T(a).id)),Ut("click",u,Nr(()=>null)),Ut("click",s,()=>Se(T(a).id)),X(o,s)}),X(t,i),st(),l()}var pl=J('<!> <seciton class="section"><div class="container"><div class="row"><div class="col-lg-4 left svelte-1hpbmdu"><!></div> <div class="col-lg-4 middle"><!> <p><button class="btn">Restart</button></p></div> <div class="col-lg-4 right svelte-1hpbmdu"><h2 class="heading svelte-1hpbmdu"> </h2></div></div></div></seciton> <!>',1);function hl(t,e){ot(e,!0);const[n,l]=ce(),r=()=>fe(F,"$game",n);ol();let i=Un(0);const[o]=cl(0,{onAnimate:S=>P(i,et(S))});St(()=>{o(r().score)}),F.subscribe(S=>{al(S.grid)&&vn({component:Gr})});var a=pl(),s=Vn(a);Yr(s,{});var u=V(s,2),v=A(u),c=A(v),f=A(c),d=A(f);cn(d);var _=V(f,2),h=A(_);Rr(h,{});var y=V(h,2),E=A(y);E.__click=function(...S){dt==null||dt.apply(this,S)};var p=V(_,2),w=A(p),Rt=A(w),Z=V(u,2);_l(Z,{}),Ye(()=>on(Rt,`Score: ${T(i)??""}`)),X(t,a),st(),l()}ae(["click"]);hr(hl,{target:document.getElementById("app")});
